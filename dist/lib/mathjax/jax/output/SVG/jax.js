!function(t,e,i,a){var s,n="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xlink";a.Augment({config:{styles:{".MathJax_SVG":{display:"inline","font-style":"normal","font-weight":"normal","line-height":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-align":"left","text-transform":"none","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap","float":"none",direction:"ltr","max-width":"none","max-height":"none","min-width":0,"min-height":0,border:0,padding:0,margin:0},".MathJax_SVG_Display":{position:"relative",display:"block!important","text-indent":0,"max-width":"none","max-height":"none","min-width":0,"min-height":0,width:"100%"},".MathJax_SVG *":{transition:"none","-webkit-transition":"none","-moz-transition":"none","-ms-transition":"none","-o-transition":"none"},".mjx-svg-href":{fill:"blue",stroke:"blue"},".MathJax_SVG_Processing":{visibility:"hidden",position:"absolute",top:0,left:0,width:0,height:0,overflow:"hidden",display:"block!important"},".MathJax_SVG_Processed":{display:"none!important"},".MathJax_SVG_ExBox":{display:"block!important",overflow:"hidden",width:"1px",height:"60ex","min-height":0,"max-height":"none",padding:0,border:0,margin:0},"#MathJax_SVG_Tooltip":{position:"absolute",left:0,top:0,width:"auto",height:"auto",display:"none"}}},hideProcessedMath:!0,fontNames:["TeX","STIX","STIX-Web","Asana-Math","Gyre-Termes","Gyre-Pagella","Latin-Modern","Neo-Euler"],Config:function(){this.SUPER(arguments).Config.apply(this,arguments);var t=e.config.menuSettings,i=this.config,a=t.font;t.scale&&(i.scale=t.scale),a&&"Auto"!==a?(a=a.replace(/(Local|Web|Image)$/i,""),a=a.replace(/([a-z])([A-Z])/,"$1-$2"),this.fontInUse=a):this.fontInUse=i.font||"TeX",this.fontNames.indexOf(this.fontInUse)<0&&(this.fontInUse="TeX"),this.fontDir+="/"+this.fontInUse,this.require||(this.require=[]),this.require.push(this.fontDir+"/fontdata.js"),this.require.push(MathJax.OutputJax.extensionDir+"/MathEvents.js")},Startup:function(){EVENT=MathJax.Extension.MathEvents.Event,TOUCH=MathJax.Extension.MathEvents.Touch,HOVER=MathJax.Extension.MathEvents.Hover,this.ContextMenu=EVENT.ContextMenu,this.Mousedown=EVENT.AltContextMenu,this.Mouseover=HOVER.Mouseover,this.Mouseout=HOVER.Mouseout,this.Mousemove=HOVER.Mousemove,this.hiddenDiv=i.Element("div",{style:{visibility:"hidden",overflow:"hidden",position:"absolute",top:0,height:"1px",width:"auto",padding:0,border:0,margin:0,textAlign:"left",textIndent:0,textTransform:"none",lineHeight:"normal",letterSpacing:"normal",wordSpacing:"normal"}}),document.body.firstChild?document.body.insertBefore(this.hiddenDiv,document.body.firstChild):document.body.appendChild(this.hiddenDiv),this.hiddenDiv=i.addElement(this.hiddenDiv,"div",{id:"MathJax_SVG_Hidden"});var e=i.addElement(this.hiddenDiv,"div",{style:{width:"5in"}});return this.pxPerInch=e.offsetWidth/5,this.hiddenDiv.removeChild(e),this.textSVG=this.Element("svg"),o=this.addElement(this.addElement(this.hiddenDiv.parentNode,"svg"),"defs",{id:"MathJax_SVG_glyphs"}),l={},this.ExSpan=i.Element("span",{style:{position:"absolute","font-size-adjust":"none"}},[["span",{className:"MathJax_SVG_ExBox"}]]),this.linebreakSpan=i.Element("span",null,[["hr",{style:{width:"auto",size:1,padding:0,border:0,margin:0}}]]),t.Styles(this.config.styles,["InitializeSVG",this])},InitializeSVG:function(){document.body.appendChild(this.ExSpan),document.body.appendChild(this.linebreakSpan),this.defaultEx=this.ExSpan.firstChild.offsetHeight/60,this.defaultWidth=this.linebreakSpan.firstChild.offsetWidth,document.body.removeChild(this.linebreakSpan),document.body.removeChild(this.ExSpan)},preTranslate:function(t){var s,n,h,r,l,o,d,m,c,u,f,S=t.jax[this.id],p=S.length,g=!1,V=this.config.linebreaks.automatic,G=this.config.linebreaks.width;for(V?(g=null!=G.match(/^\s*(\d+(\.\d*)?%\s*)?container\s*$/),g?G=G.replace(/\s*container\s*/,""):u=this.defaultWidth,""===G&&(G="100%")):u=1e5,s=0;p>s;s++)n=S[s],n.parentNode&&(h=n.previousSibling,h&&String(h.className).match(/^MathJax(_SVG)?(_Display)?( MathJax(_SVG)?_Processing)?$/)&&h.parentNode.removeChild(h),d=n.MathJax.elementJax,d&&(d.SVG={display:"block"===d.root.Get("display")},r=l=i.Element("span",{style:{"font-size":this.config.scale+"%",display:"inline-block"},className:"MathJax_SVG",id:d.inputID+"-Frame",isMathJax:!0,jaxID:this.id,oncontextmenu:EVENT.Menu,onmousedown:EVENT.Mousedown,onmouseover:EVENT.Mouseover,onmouseout:EVENT.Mouseout,onmousemove:EVENT.Mousemove,onclick:EVENT.Click,ondblclick:EVENT.DblClick}),e.Browser.noContextMenu&&(r.ontouchstart=TOUCH.start,r.ontouchend=TOUCH.end),d.SVG.display&&(l=i.Element("div",{className:"MathJax_SVG_Display"}),l.appendChild(r)),l.setAttribute("role","textbox"),l.setAttribute("aria-readonly","true"),l.className+=" MathJax_SVG_Processing",n.parentNode.insertBefore(l,n),n.parentNode.insertBefore(this.ExSpan.cloneNode(!0),n),l.parentNode.insertBefore(this.linebreakSpan.cloneNode(!0),l)));for(s=0;p>s;s++)n=S[s],n.parentNode&&(o=n.previousSibling,l=o.previousSibling,d=n.MathJax.elementJax,d&&(m=o.firstChild.offsetHeight/60,f=l.previousSibling.firstChild.offsetWidth,g&&(u=f),(0===m||"NaN"===m)&&(this.hiddenDiv.appendChild(l),d.SVG.isHidden=!0,m=this.defaultEx,f=this.defaultWidth,g&&(u=this.defaultWidth)),d.SVG.ex=m,d.SVG.cwidth=f,d.SVG.em=c=m/a.TeX.x_height*1e3,d.SVG.lineWidth=V?this.length2em(G,1,u/c):1e6));for(s=0;p>s;s++)n=S[s],n.parentNode&&(o=S[s].previousSibling,r=o.previousSibling,d=S[s].MathJax.elementJax,d&&(d.SVG.isHidden||(r=r.previousSibling),r.parentNode.removeChild(r),o.parentNode.removeChild(o)));t.SVGeqn=t.SVGlast=0,t.SVGi=-1,t.SVGchunk=this.config.EqnChunk,t.SVGdelay=!1},Translate:function(t,i){if(t.parentNode){i.SVGdelay&&(i.SVGdelay=!1,e.RestartAfter(MathJax.Callback.Delay(this.config.EqnChunkDelay)));var a=t.MathJax.elementJax,n=a.root,h=document.getElementById(a.inputID+"-Frame"),r=a.SVG.display?(h||{}).parentNode:h;if(r){this.em=s.mbase.prototype.em=a.SVG.em,this.ex=a.SVG.ex,this.linebreakWidth=1e3*a.SVG.lineWidth,this.cwidth=a.SVG.cwidth,this.mathDiv=r,h.appendChild(this.textSVG),this.initSVG(n,h),n.setTeXclass();try{n.toSVG(h,r)}catch(l){if(l.restart)for(;h.firstChild;)h.removeChild(h.firstChild);throw l}h.removeChild(this.textSVG),a.SVG.isHidden&&t.parentNode.insertBefore(r,t),r.className=r.className.split(/ /)[0],this.hideProcessedMath&&(r.className+=" MathJax_SVG_Processed",t.MathJax.preview&&(a.SVG.preview=t.MathJax.preview,delete t.MathJax.preview),i.SVGeqn+=i.i-i.SVGi,i.SVGi=i.i,i.SVGeqn>=i.SVGlast+i.SVGchunk&&(this.postTranslate(i,!0),i.SVGchunk=Math.floor(i.SVGchunk*this.config.EqnChunkFactor),i.SVGdelay=!0))}}},postTranslate:function(t){var e=t.jax[this.id];if(this.hideProcessedMath){for(var i=t.SVGlast,a=t.SVGeqn;a>i;i++){var s=e[i];if(s&&s.MathJax.elementJax){s.previousSibling.className=s.previousSibling.className.split(/ /)[0];var n=s.MathJax.elementJax.SVG;n.preview&&(n.preview.innerHTML="",s.MathJax.preview=n.preview,delete n.preview)}}t.SVGlast=t.SVGeqn}},hashCheck:function(t){if(t&&"g"===t.nodeName)do t=t.parentNode;while(t&&"svg"!==t.firstChild.nodeName);return t},getJaxFromMath:function(t){"MathJax_SVG_Display"===t.parentNode.className&&(t=t.parentNode);do t=t.nextSibling;while(t&&"script"!==t.nodeName.toLowerCase());return e.getJaxFor(t)},getHoverSpan:function(t,e){return e.style.position="relative",e.firstChild},getHoverBBox:function(t,e){var i=EVENT.getBBox(e.parentNode);return i.h+=2,i.d-=2,i},Zoom:function(t,i,n){i.className="MathJax_SVG";var h=i.appendChild(this.ExSpan.cloneNode(!0)),r=h.firstChild.offsetHeight/60;this.em=s.mbase.prototype.em=r/a.TeX.x_height*1e3,this.cwidth=.85*a.defaultWidth,h.parentNode.removeChild(h),i.appendChild(this.textSVG),this.mathDIV=i,this.zoomScale=parseInt(e.config.menuSettings.zscale)/100,this.idPostfix="-zoom",t.root.toSVG(i,i),this.idPostfix="",this.zoomScale=1,i.removeChild(this.textSVG),this.operaZoomRefresh&&setTimeout(function(){i.firstChild.style.border="1px solid transparent"},1),i.offsetWidth<i.firstChild.offsetWidth&&(i.style.minWidth=i.firstChild.offsetWidth+"px",n.style.minWidth=n.firstChild.offsetWidth+"px"),i.style.position=n.style.position="absolute";var l=i.offsetWidth,o=i.offsetHeight,d=n.offsetHeight,m=n.offsetWidth;return i.style.position=n.style.position="",{Y:-EVENT.getBBox(i).h,mW:m,mH:d,zW:l,zH:o}},initSVG:function(){},Remove:function(t){var e=document.getElementById(t.inputID+"-Frame");e&&(t.SVG.display&&(e=e.parentNode),e.parentNode.removeChild(e)),delete t.SVG},Em:function(t){return Math.abs(t)<6e-4?"0em":t.toFixed(3).replace(/\.?0+$/,"")+"em"},Ex:function(t){return t=Math.round(t/this.TeX.x_height*this.ex)/this.ex,Math.abs(t)<6e-4?"0ex":t.toFixed(3).replace(/\.?0+$/,"")+"ex"},Percent:function(t){return(100*t).toFixed(1).replace(/\.?0+$/,"")+"%"},length2em:function(t,e,i){if("string"!=typeof t&&(t=t.toString()),""===t)return"";if(t===s.SIZE.NORMAL)return 1e3;if(t===s.SIZE.BIG)return 2e3;if(t===s.SIZE.SMALL)return 710;if("infinity"===t)return a.BIGDIMEN;if(t.match(/mathspace$/))return 1e3*a.MATHSPACE[t];var n=(this.zoomScale||1)/a.em,h=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/),r=1e3*parseFloat(h[1]||"1"),l=h[2];return null==i&&(i=1e3),null==e&&(e=1),"em"===l?r:"ex"===l?r*a.TeX.x_height/1e3:"%"===l?r/100*i/1e3:"px"===l?r*n:"pt"===l?r/10:"pc"===l?1.2*r:"in"===l?r*this.pxPerInch*n:"cm"===l?r*this.pxPerInch*n/2.54:"mm"===l?r*this.pxPerInch*n/25.4:"mu"===l?r/18*e:r*i/1e3},thickness2em:function(t,e){var i=a.TeX.rule_thickness;return t===s.LINETHICKNESS.MEDIUM?i:t===s.LINETHICKNESS.THIN?.67*i:t===s.LINETHICKNESS.THICK?1.67*i:this.length2em(t,e,i)},getPadding:function(t){var e={top:0,right:0,bottom:0,left:0},i=!1;for(var a in e)if(e.hasOwnProperty(a)){var s=t["padding"+a.charAt(0).toUpperCase()+a.substr(1)];s&&(e[a]=this.length2em(s),i=!0)}return i?e:!1},getBorders:function(t){var e={top:0,right:0,bottom:0,left:0},i=!1;for(var a in e)if(e.hasOwnProperty(a)){var s="border"+a.charAt(0).toUpperCase()+a.substr(1),n=t[s+"Style"];n&&"none"!==n?(i=!0,e[a]=this.length2em(t[s+"Width"]),e[a+"Style"]=t[s+"Style"],e[a+"Color"]=t[s+"Color"],"initial"===e[a+"Color"]&&(e[a+"Color"]="")):delete e[a]}return i?e:!1},Element:function(t,e){var i="string"==typeof t?document.createElementNS(n,t):t;if(i.isMathJax=!0,e)for(var a in e)e.hasOwnProperty(a)&&i.setAttribute(a,e[a].toString());return i},addElement:function(t,e,i){return t.appendChild(this.Element(e,i))},TextNode:i.TextNode,addText:i.addText,ucMatch:i.ucMatch,HandleVariant:function(t,i,n){var h,l,o,d,m,c,u,f,S,p,g=r.G();for(t||(t=this.FONTDATA.VARIANT[s.VARIANT.NORMAL]),t.forceFamily&&(n=r.TEXT(i,n,t.font),null!=t.h&&(n.h=t.h),null!=t.d&&(n.d=t.d),g.Add(n),n=""),m=t,c=0,u=n.length;u>c;c++){if(t=m,h=n.charCodeAt(c),o=n.charAt(c),h>=55296&&56319>h){if(c++,h=(h-55296<<10)+(n.charCodeAt(c)-56320)+65536,this.FONTDATA.RemapPlane1){var V=this.FONTDATA.RemapPlane1(h,t);h=V.n,t=V.variant}}else for(p=this.FONTDATA.RANGES,f=0,S=p.length;S>f;f++)if(("alpha"!==p[f].name||!t.noLowerCase)&&(l=t["offset"+p[f].offset],l&&h>=p[f].low&&h<=p[f].high)){p[f].remap&&p[f].remap[h]?h=l+p[f].remap[h]:(h=h-p[f].low+l,p[f].add&&(h+=p[f].add)),t["variant"+p[f].offset]&&(t=this.FONTDATA.VARIANT[t["variant"+p[f].offset]]);break}if(t.remap&&t.remap[h]?(h=t.remap[h],t.remap.variant&&(t=this.FONTDATA.VARIANT[t.remap.variant])):this.FONTDATA.REMAP[h]&&!t.noRemap&&(h=this.FONTDATA.REMAP[h]),h instanceof Array&&(t=this.FONTDATA.VARIANT[h[1]],h=h[0]),"string"!=typeof h)if(d=this.lookupChar(t,h),o=d[h])o[5]&&o[5].space?g.w+=o[2]:(o=[i,d.id+"-"+h.toString(16).toUpperCase()].concat(o),g.Add(r.GLYPH.apply(r,o),g.w,0));else if(this.FONTDATA.DELIMITERS[h])o=this.createDelimiter(h,0,1,d),g.Add(o,g.w,"V"===this.FONTDATA.DELIMITERS[h].dir?o.d:0);else{65535>=h?o=String.fromCharCode(h):(l=h-65536,o=String.fromCharCode((l>>10)+55296)+String.fromCharCode((1023&l)+56320));var G=r.TEXT(i,o,{"font-family":t.defaultFamily||a.config.undefinedFamily,"font-style":t.italic?"italic":"","font-weight":t.bold?"bold":""});null!=t.h&&(G.h=t.h),null!=t.d&&(G.d=t.d),o=r.G(),o.Add(G),g.Add(o,g.w,0),e.signal.Post(["SVG Jax - unknown char",h,t])}else n=h+n.substr(c+1),u=n.length,c=-1}return 1==n.length&&d.skew&&d.skew[h]&&(g.skew=1e3*d.skew[h]),1===g.element.childNodes.length&&(g.element=g.element.firstChild,g.removeable=!1,g.scale=i),g},lookupChar:function(t,e){var i,a;if(!t.FONTS){var s=this.FONTDATA.FONTS,n=t.fonts||this.FONTDATA.VARIANT.normal.fonts;for(n instanceof Array||(n=[n]),t.fonts!=n&&(t.fonts=n),t.FONTS=[],i=0,a=n.length;a>i;i++)s[n[i]]&&t.FONTS.push(s[n[i]])}for(i=0,a=t.FONTS.length;a>i;i++){var h=t.FONTS[i];if("string"==typeof h&&(delete t.FONTS,this.loadFont(h)),h[e])return h;this.findBlock(h,e)}return{id:"unknown"}},findBlock:function(t,e){if(t.Ranges)for(var i=0,a=t.Ranges.length;a>i;i++){if(e<t.Ranges[i][0])return;if(e<=t.Ranges[i][1]){for(var s=t.Ranges[i][2],n=t.Ranges.length-1;n>=0;n--)t.Ranges[n][2]==s&&t.Ranges.splice(n,1);this.loadFont(t.directory+"/"+s+".js")}}},loadFont:function(i){e.RestartAfter(t.Require(this.fontDir+"/"+i))},createDelimiter:function(i,n,h,l){h||(h=1);var o=r.G();if(!i)return o.Clean(),delete o.element,o.w=o.r=this.TeX.nulldelimiterspace*h,o;n instanceof Array||(n=[n,n]);var d=n[1];n=n[0];for(var m={alias:i};m.alias;)i=m.alias,m=this.FONTDATA.DELIMITERS[i],m||(m={HW:[0,this.FONTDATA.VARIANT[s.VARIANT.NORMAL]]});m.load&&e.RestartAfter(t.Require(this.fontDir+"/fontdata-"+m.load+".js"));for(var c=0,u=m.HW.length;u>c;c++)if(m.HW[c][0]*h>=n-10-a.config.blacker||c==u-1&&!m.stretch)return m.HW[c][2]&&(h*=m.HW[c][2]),m.HW[c][3]&&(i=m.HW[c][3]),this.createChar(h,[i,m.HW[c][1]],l).With({stretched:!0});return m.stretch&&this["extendDelimiter"+m.dir](o,d,m.stretch,h,l),o},createChar:function(t,e,i){var a="",n={fonts:[e[1]],noRemap:!0};if(i&&i===s.VARIANT.BOLD&&(n.fonts=[e[1]+"-bold",e[1]]),"string"!=typeof e[1]&&(n=e[1]),e[0]instanceof Array)for(var h=0,r=e[0].length;r>h;h++)a+=String.fromCharCode(e[0][h]);else a=String.fromCharCode(e[0]);e[4]&&(t*=e[4]);var l=this.HandleVariant(n,t,a);return e[2]&&(l.x=1e3*e[2]),e[3]&&(l.y=1e3*e[3]),e[5]&&(l.h+=1e3*e[5]),e[6]&&(l.d+=1e3*e[6]),l},extendDelimiterV:function(t,e,i,s,n){var h=this.createChar(s,i.top||i.ext,n),r=this.createChar(s,i.bot||i.ext,n),l=h.h+h.d+r.h+r.d,o=-h.h;if(t.Add(h,0,o),o-=h.d,i.mid){var d=this.createChar(s,i.mid,n);l+=d.h+d.d}if(i.min&&e<l*i.min&&(e=l*i.min),e>l)for(var m=this.createChar(s,i.ext,n),c=i.mid?2:1,u=(e-l)/c,f=(u+100)/(m.h+m.d);c-->0;){var S=a.Element("g",{transform:"translate("+m.y+","+(o-f*m.h+50+m.y)+") scale(1,"+f+")"});S.appendChild(m.element.cloneNode(!1)),t.element.appendChild(S),o-=u,i.mid&&c&&(t.Add(d,0,o-d.h),o-=d.h+d.d)}else i.mid?(o+=(l-e)/2,t.Add(d,0,o-d.h),o+=-(d.h+d.d)+(l-e)/2):o+=l-e;t.Add(r,0,o-r.h),t.Clean(),t.scale=s,t.isMultiChar=!0},extendDelimiterH:function(t,e,i,s,n){var h=this.createChar(s,i.left||i.rep,n),r=this.createChar(s,i.right||i.rep,n);t.Add(h,-h.l,0);var l=h.r-h.l+(r.r-r.l),o=h.r-h.l;if(i.mid){var d=this.createChar(s,i.mid,n);l+=d.w}if(i.min&&e<l*i.min&&(e=l*i.min),e>l)for(var m=this.createChar(s,i.rep,n),c=i.fuzz||0,u=i.mid?2:1,f=(e-l)/u,S=(f+c)/(m.r-m.l);u-->0;){var p=a.Element("g",{transform:"translate("+(o-c/2-S*m.l+m.x)+","+m.y+") scale("+S+",1)"});p.appendChild(m.element.cloneNode(!1)),t.element.appendChild(p),o+=f,i.mid&&u&&(t.Add(d,o,0),o+=d.w)}else i.mid?(o-=(l-e)/2,t.Add(d,o,0),o+=d.w-(l-e)/2):o-=l-e;t.Add(r,o-r.l,0),t.Clean(),t.scale=s,t.isMultiChar=!0},MATHSPACE:{veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18},TeX:{x_height:430.554,quad:1e3,num1:676.508,num2:393.732,num3:443.73,denom1:685.951,denom2:344.841,sup1:412.892,sup2:362.892,sup3:288.888,sub1:150,sub2:247.217,sup_drop:386.108,sub_drop:50,delim1:2390,delim2:1e3,axis_height:250,rule_thickness:60,big_op_spacing1:111.111,big_op_spacing2:166.666,big_op_spacing3:200,big_op_spacing4:600,big_op_spacing5:100,scriptspace:100,nulldelimiterspace:120,delimiterfactor:901,delimitershortfall:100,min_rule_thickness:1.25,min_root_space:1.5},BIGDIMEN:1e7,NBSP:" "});var r=a.BBOX=MathJax.Object.Subclass({type:"g",removeable:!0,Init:function(t){this.h=this.d=-a.BIGDIMEN,this.H=this.D=0,this.w=this.r=0,this.l=a.BIGDIMEN,this.x=this.y=0,this.scale=1,this.n=0,this.type&&(this.element=a.Element(this.type,t))},With:function(t){return e.Insert(this,t)},Add:function(t,e,i,a,s){if(e&&(t.x+=e),i&&(t.y+=i),t.element){if(t.removeable&&1===t.element.childNodes.length&&1===t.n){var n=t.element.firstChild;if("use"===n.nodeName||"rect"===n.nodeName){t.element=n,t.scale=t.childScale;var h=t.childX,r=t.childY;t.x+=h,t.y+=r,t.h-=r,t.d+=r,t.H-=r,t.D+=r,t.w-=h,t.r-=h,t.l+=h,t.removeable=!1}}if(Math.abs(t.x)<1&&Math.abs(t.y)<1?t.remove=t.removeable:"g"===t.element.nodeName?t.element.firstChild?t.element.setAttribute("transform","translate("+Math.floor(t.x)+","+Math.floor(t.y)+")"):t.remove=t.removeable:"line"===t.element.nodeName||"polygon"===t.element.nodeName||"path"===t.element.nodeName||"a"===t.element.nodeName?t.element.setAttribute("transform","translate("+Math.floor(t.x)+","+Math.floor(t.y)+")"):(t.element.setAttribute("x",Math.floor(t.x/t.scale)),t.element.setAttribute("y",Math.floor(t.y/t.scale))),t.remove)for(this.n+=t.n;t.element.firstChild;)s&&this.element.firstChild?this.element.insertBefore(t.element.firstChild,this.element.firstChild):this.element.appendChild(t.element.firstChild);else s?this.element.insertBefore(t.element,this.element.firstChild):this.element.appendChild(t.element);delete t.element}return t.hasIndent&&(this.hasIndent=t.hasIndent),t.d-t.y>this.d&&(this.d=t.d-t.y,this.d>this.D&&(this.D=this.d)),t.y+t.h>this.h&&(this.h=t.y+t.h,this.h>this.H&&(this.H=this.h)),t.D-t.y>this.D&&(this.D=t.D-t.y),t.y+t.H>this.H&&(this.H=t.y+t.H),t.x+t.l<this.l&&(this.l=t.x+t.l),t.x+t.r>this.r&&(this.r=t.x+t.r),(a||t.x+t.w+(t.X||0)>this.w)&&(this.w=t.x+t.w+(t.X||0)),this.childScale=t.scale,this.childX=t.x,this.childY=t.y,this.n++,t},Align:function(t,e,i,s){if(i={left:i,center:(this.w-t.w)/2,right:this.w-t.w-i}[e]||0,0>i){if(this.element.childNodes.length){this.element.setAttribute("transform","translate("+Math.floor(-i)+",0)");var n=a.Element("g");n.appendChild(this.element),this.element=n}this.l-=i,this.w-=i,this.r-=i,i=0}this.Add(t,i,s)},Clean:function(){return this.h===-a.BIGDIMEN&&(this.h=this.d=this.l=0),this}});r.ROW=r.Subclass({Init:function(){this.SUPER(arguments).Init.call(this),this.svg=[],this.sh=this.sd=0},Check:function(t){var e=t.toSVG();this.svg.push(e),t.SVGcanStretch("Vertical")&&(e.mml=t),e.h>this.sh&&(this.sh=e.h),e.d>this.sd&&(this.sd=e.d)},Stretch:function(){for(var t=0,e=this.svg.length;e>t;t++){var i=this.svg[t],a=i.mml;a&&((a.forceStretch||a.SVGdata.h!==this.sh||a.SVGdata.d!==this.sd)&&(i=a.SVGstretchV(this.sh,this.sd)),a.SVGdata.HW=this.sh,a.SVGdata.D=this.sd),i.ic?this.ic=i.ic:delete this.ic,this.Add(i,this.w,0,!0)}delete this.svg}}),r.RECT=r.Subclass({type:"rect",removeable:!1,Init:function(t,e,i,a){null==a&&(a={stroke:"none"}),a.width=Math.floor(i),a.height=Math.floor(t+e),this.SUPER(arguments).Init.call(this,a),this.w=this.r=i,this.h=this.H=t+e,this.d=this.D=this.l=0,this.y=-e}}),r.FRAME=r.Subclass({type:"rect",removeable:!1,Init:function(t,e,i,s,n,h,r){null==r&&(r={}),r.fill="none",r["stroke-width"]=s.toFixed(2).replace(/\.?0+$/,""),r.width=Math.floor(i-s),r.height=Math.floor(t+e-s),r.transform="translate("+Math.floor(s/2)+","+Math.floor(-e+s/2)+")","dashed"===n&&(r["stroke-dasharray"]=[Math.floor(6*a.em),Math.floor(6*a.em)].join(" ")),this.SUPER(arguments).Init.call(this,r),this.w=this.r=i,this.h=this.H=t,this.d=this.D=e,this.l=0}}),r.HLINE=r.Subclass({type:"line",removeable:!1,Init:function(t,e,i,a,s){if(null==s&&(s={"stroke-linecap":"square"}),a&&""!==a&&(s.stroke=a),s["stroke-width"]=e.toFixed(2).replace(/\.?0+$/,""),s.x1=s.y1=s.y2=Math.floor(e/2),s.x2=Math.floor(t-e/2),"dashed"===i){var n=Math.floor(Math.max(0,t-e)/(6*e)),h=Math.floor(Math.max(0,t-e)/(2*n+1));s["stroke-dasharray"]=h+" "+h}"dotted"===i&&(s["stroke-dasharray"]=[1,Math.max(150,Math.floor(2*e))].join(" "),s["stroke-linecap"]="round"),this.SUPER(arguments).Init.call(this,s),this.w=this.r=t,this.l=0,this.h=this.H=e,this.d=this.D=0}}),r.VLINE=r.Subclass({type:"line",removeable:!1,Init:function(t,e,i,a,s){if(null==s&&(s={"stroke-linecap":"square"}),a&&""!==a&&(s.stroke=a),s["stroke-width"]=e.toFixed(2).replace(/\.?0+$/,""),s.x1=s.x2=s.y1=Math.floor(e/2),s.y2=Math.floor(t-e/2),"dashed"===i){var n=Math.floor(Math.max(0,t-e)/(6*e)),h=Math.floor(Math.max(0,t-e)/(2*n+1));s["stroke-dasharray"]=h+" "+h}"dotted"===i&&(s["stroke-dasharray"]=[1,Math.max(150,Math.floor(2*e))].join(" "),s["stroke-linecap"]="round"),this.SUPER(arguments).Init.call(this,s),this.w=this.r=e,this.l=0,this.h=this.H=t,this.d=this.D=0}}),r.TEXT=r.Subclass({type:"text",removeable:!1,Init:function(t,e,i){i||(i={}),i.stroke="none",this.SUPER(arguments).Init.call(this,i),a.addText(this.element,e),a.textSVG.appendChild(this.element);var s=this.element.getBBox();a.textSVG.removeChild(this.element),t*=1e3/a.em,this.element.setAttribute("transform","scale("+t+") matrix(1 0 0 -1 0 0)"),this.w=this.r=s.width*t,this.l=0,this.h=this.H=-s.y*t,this.d=this.D=(s.height+s.y)*t}}),r.G=r,r.NULL=r.Subclass({Init:function(){this.SUPER(arguments).Init.apply(this,arguments),this.Clean()}});var l,o;r.GLYPH=r.Subclass({type:"path",removeable:!1,Init:function(t,e,i,s,n,r,d,m){var c,u=a.config.blacker;l[e]||(c={id:e,"stroke-width":u},""!==m&&(c.d="M"+m+"Z"),this.SUPER(arguments).Init.call(this,c),o.appendChild(this.element),l[e]=!0),c={},1!==t&&(c.transform="scale("+t+")"),this.element=a.Element("use",c),this.element.setAttributeNS(h,"href","#"+e),this.h=(i+u)*t,this.d=(s+u)*t,this.w=(n+u/2)*t,this.l=(r+u/2)*t,this.r=(d+u/2)*t,this.H=Math.max(0,this.h),this.D=Math.max(0,this.d),this.x=this.y=0,this.scale=t}}),e.Register.StartupHook("mml Jax Ready",function(){s=MathJax.ElementJax.mml,s.mbase.Augment({SVG:r,toSVG:function(){this.SVGgetStyles();var t=this.SVGgetVariant(),e=this.SVG();this.SVGgetScale(e),this.SVGhandleSpace(e);for(var i=0,a=this.data.length;a>i;i++)if(this.data[i]){var s=e.Add(this.data[i].toSVG(t,e.scale),e.w,0,!0);s.skew&&(e.skew=s.skew)}e.Clean();var n=this.data.join("");return e.skew&&1!==n.length&&delete e.skew,e.r>e.w&&1===n.length&&!t.noIC&&(e.ic=e.r-e.w,e.w=e.r),this.SVGhandleColor(e),this.SVGsaveData(e),e},SVGchildSVG:function(t){return this.data[t]?this.data[t].toSVG():r()},SVGdataStretched:function(t,e,i){return this.SVGdata={HW:e,D:i},this.data[t]?null!=i?this.data[t].SVGstretchV(e,i):null!=e?this.data[t].SVGstretchH(e):this.data[t].toSVG():r()},SVGsaveData:function(t){if(this.SVGdata||(this.SVGdata={}),this.SVGdata.w=t.w,this.SVGdata.x=t.x,this.SVGdata.h=t.h,this.SVGdata.d=t.d,t.y&&(this.SVGdata.h+=t.y,this.SVGdata.d-=t.y),null!=t.X&&(this.SVGdata.X=t.X),this["class"]&&(t.removeable=!1,a.Element(t.element,{"class":this["class"]})),this.id&&(t.removeable=!1,a.Element(t.element,{id:this.id})),this.href){var e=a.Element("a",{"class":"mjx-svg-href"});if(e.setAttributeNS(h,"href",this.href),e.onclick=this.SVGlink,a.addElement(e,"rect",{width:t.w,height:t.h+t.d,y:-t.d,fill:"none",stroke:"none","pointer-events":"all"}),"svg"===t.type){for(var i=t.element.firstChild;i.firstChild;)e.appendChild(i.firstChild);i.appendChild(e)}else e.appendChild(t.element),t.element=e;t.removeable=!1}a.config.addMMLclasses&&(this.SVGaddClass(t.element,"mjx-svg-"+this.type),t.removeable=!1);var s=this.style;s&&t.element&&(t.element.style.cssText=s,t.element.style.fontSize&&(t.element.style.fontSize=""),t.element.style.border=t.element.style.padding="",t.removeable&&(t.removeable=""===t.element.style.cssText))},SVGaddClass:function(t,e){var i=t.getAttribute("class");t.setAttribute("class",(i?i+" ":"")+e)},SVGlink:function(){var t=this.href.animVal;if("#"===t.charAt(0)){var e=a.hashCheck(document.getElementById(t.substr(1)));e&&e.scrollIntoView&&setTimeout(function(){e.parentNode.scrollIntoView(!0)},1)}document.location=t},SVGgetStyles:function(){if(this.style){var t=i.Element("span");t.style.cssText=this.style,this.styles=this.SVGprocessStyles(t.style)}},SVGprocessStyles:function(t){var e={border:a.getBorders(t),padding:a.getPadding(t)};return e.border||delete e.border,e.padding||delete e.padding,t.fontSize&&(e.fontSize=t.fontSize),t.color&&(e.color=t.color),t.backgroundColor&&(e.background=t.backgroundColor),t.fontStyle&&(e.fontStyle=t.fontStyle),t.fontWeight&&(e.fontWeight=t.fontWeight),t.fontFamily&&(e.fontFamily=t.fontFamily),e.fontWeight&&e.fontWeight.match(/^\d+$/)&&(e.fontWeight=parseInt(e.fontWeight)>600?"bold":"normal"),e},SVGhandleSpace:function(t){if(this.useMMLspacing){if("mo"!==this.type)return;var e=this.getValues("scriptlevel","lspace","rspace");if(e.scriptlevel<=0||this.hasValue("lspace")||this.hasValue("rspace")){var i=this.SVGgetMu(t);e.lspace=Math.max(0,a.length2em(e.lspace,i)),e.rspace=Math.max(0,a.length2em(e.rspace,i));for(var s=this,n=this.Parent();n&&n.isEmbellished()&&n.Core()===s;)s=n,n=n.Parent();e.lspace&&(t.x+=e.lspace),e.rspace&&(t.X=e.rspace)}}else{var h=this.texSpacing();this.SVGgetScale(),""!==h&&(t.x+=a.length2em(h,this.scale)*this.mscale)}},SVGhandleColor:function(t){var e=this.getValues("mathcolor","color");this.styles&&this.styles.color&&!e.color&&(e.color=this.styles.color),e.color&&!this.mathcolor&&(e.mathcolor=e.color),e.mathcolor&&(a.Element(t.element,{fill:e.mathcolor,stroke:e.mathcolor}),t.removeable=!1);var i,n=(this.styles||{}).border,h=(this.styles||{}).padding,l=(n||{}).left||0,o=(h||{}).left||0;if(e.background=this.mathbackground||this.background||(this.styles||{}).background||s.COLOR.TRANSPARENT,l+o){var d=r();for(i in t)t.hasOwnProperty(i)&&(d[i]=t[i]);d.x=0,d.y=0,t.element=a.Element("g"),t.removeable=!0,t.Add(d,l+o,0)}if(h&&(t.w+=h.right||0,t.h+=h.top||0,t.d+=h.bottom||0),n&&(t.w+=n.right||0,t.h+=n.top||0,t.d+=n.bottom||0),e.background!==s.COLOR.TRANSPARENT){if("g"!==t.element.nodeName&&"svg"!==t.element.nodeName){var m=a.Element("g");m.appendChild(t.element),t.element=m,t.removeable=!0}t.Add(r.RECT(t.h,t.d,t.w,{fill:e.background,stroke:"none"}),0,0,!1,!0)}if(n){var c=5,u={left:["V",t.h+t.d,-c,-t.d],right:["V",t.h+t.d,t.w-n.right+c,-t.d],top:["H",t.w,0,t.h-n.top+c],bottom:["H",t.w,0,-t.d-c]};for(i in u)if(u.hasOwnProperty(i)&&n[i]){var f=u[i],S=r[f[0]+"LINE"];t.Add(S(f[1],n[i],n[i+"Style"],n[i+"Color"]),f[2],f[3])}}},SVGhandleVariant:function(t,e,i){return a.HandleVariant(t,e,i)},SVGgetVariant:function(){var t=this.getValues("mathvariant","fontfamily","fontweight","fontstyle"),e=t.mathvariant;return this.variantForm&&(e="-TeX-variant"),t.hasVariant=this.Get("mathvariant",!0),t.hasVariant||(t.family=t.fontfamily,t.weight=t.fontweight,t.style=t.fontstyle),this.styles&&(!t.style&&this.styles.fontStyle&&(t.style=this.styles.fontStyle),!t.weight&&this.styles.fontWeight&&(t.weight=this.styles.fontWeight),!t.family&&this.styles.fontFamily&&(t.family=this.styles.fontFamily)),t.family&&!t.hasVariant?(!t.weight&&t.mathvariant.match(/bold/)&&(t.weight="bold"),!t.style&&t.mathvariant.match(/italic/)&&(t.style="italic"),e={forceFamily:!0,font:{"font-family":t.family}},t.style&&(e.font["font-style"]=t.style),t.weight&&(e.font["font-weight"]=t.weight),e):("bold"===t.weight?e={normal:s.VARIANT.BOLD,italic:s.VARIANT.BOLDITALIC,fraktur:s.VARIANT.BOLDFRAKTUR,script:s.VARIANT.BOLDSCRIPT,"sans-serif":s.VARIANT.BOLDSANSSERIF,"sans-serif-italic":s.VARIANT.SANSSERIFBOLDITALIC}[e]||e:"normal"===t.weight&&(e={bold:s.VARIANT.normal,"bold-italic":s.VARIANT.ITALIC,"bold-fraktur":s.VARIANT.FRAKTUR,"bold-script":s.VARIANT.SCRIPT,"bold-sans-serif":s.VARIANT.SANSSERIF,"sans-serif-bold-italic":s.VARIANT.SANSSERIFITALIC}[e]||e),"italic"===t.style?e={normal:s.VARIANT.ITALIC,bold:s.VARIANT.BOLDITALIC,"sans-serif":s.VARIANT.SANSSERIFITALIC,"bold-sans-serif":s.VARIANT.SANSSERIFBOLDITALIC}[e]||e:"normal"===t.style&&(e={italic:s.VARIANT.NORMAL,"bold-italic":s.VARIANT.BOLD,"sans-serif-italic":s.VARIANT.SANSSERIF,"sans-serif-bold-italic":s.VARIANT.BOLDSANSSERIF}[e]||e),e in a.FONTDATA.VARIANT||(e="normal"),a.FONTDATA.VARIANT[e])},SVGgetScale:function(t){var e=1;if(this.mscale)e=this.scale;else{var i=this.getValues("scriptlevel","fontsize");i.mathsize=(this.isToken?this:this.Parent()).Get("mathsize"),(this.styles||{}).fontSize&&!i.fontsize&&(i.fontsize=this.styles.fontSize),i.fontsize&&!this.mathsize&&(i.mathsize=i.fontsize),0!==i.scriptlevel&&(i.scriptlevel>2&&(i.scriptlevel=2),e=Math.pow(this.Get("scriptsizemultiplier"),i.scriptlevel),i.scriptminsize=a.length2em(this.Get("scriptminsize"))/1e3,e<i.scriptminsize&&(e=i.scriptminsize)),this.scale=e,this.mscale=a.length2em(i.mathsize)/1e3}return t&&(t.scale=e,this.isToken&&(t.scale*=this.mscale)),e*this.mscale},SVGgetMu:function(t){var e=1,i=this.getValues("scriptlevel","scriptsizemultiplier");return t.scale&&1!==t.scale&&(e=1/t.scale),0!==i.scriptlevel&&(i.scriptlevel>2&&(i.scriptlevel=2),e=Math.sqrt(Math.pow(i.scriptsizemultiplier,i.scriptlevel))),e},SVGnotEmpty:function(t){for(;t;){if("mrow"!==t.type&&"texatom"!==t.type||t.data.length>1)return!0;t=t.data[0]}return!1},SVGcanStretch:function(t){var e=!1;if(this.isEmbellished()){var i=this.Core();i&&i!==this&&(e=i.SVGcanStretch(t),e&&i.forceStretch&&(this.forceStretch=!0))}return e},SVGstretchV:function(t,e){return this.toSVG(t,e)},SVGstretchH:function(t){return this.toSVG(t)},SVGlineBreaks:function(){return!1}},{SVGautoload:function(){var i=a.autoloadDir+"/"+this.type+".js";e.RestartAfter(t.Require(i))},SVGautoloadFile:function(i){var s=a.autoloadDir+"/"+i+".js";e.RestartAfter(t.Require(s))}}),s.chars.Augment({toSVG:function(t,e,i,a){var s=this.data.join("").replace(/[\u2061-\u2064]/g,"");return i&&(s=i(s,a)),this.SVGhandleVariant(t,e,s)}}),s.entity.Augment({toSVG:function(t,e,i,a){var s=this.toString().replace(/[\u2061-\u2064]/g,"");return i&&(s=i(s,a)),this.SVGhandleVariant(t,e,s)}}),s.mo.Augment({toSVG:function(t,e){this.SVGgetStyles();var i=this.svg=this.SVG(),n=this.SVGgetScale(i);if(this.SVGhandleSpace(i),0==this.data.length)return i.Clean(),this.SVGsaveData(i),i;if(null!=e)return this.SVGstretchV(t,e);if(null!=t)return this.SVG.strechH(t);var h=this.SVGgetVariant(),r=this.getValues("largeop","displaystyle");r.largeop&&(h=a.FONTDATA.VARIANT[r.displaystyle?"-largeOp":"-smallOp"]);var l=this.CoreParent(),o=l&&l.isa(s.msubsup)&&this!==l.data[0],d=o?this.SVGremapChars:null;if(1===this.data.join("").length&&l&&l.isa(s.munderover)&&1===this.CoreText(l.data[l.base]).length){var m=l.data[l.over],c=l.data[l.under];m&&this===m.CoreMO()&&l.Get("accent")?d=a.FONTDATA.REMAPACCENT:c&&this===c.CoreMO()&&l.Get("accentunder")&&(d=a.FONTDATA.REMAPACCENTUNDER)}o&&this.data.join("").match(/['`"\u00B4\u2032-\u2037\u2057]/)&&(h=a.FONTDATA.VARIANT["-TeX-variant"]);for(var u=0,f=this.data.length;f>u;u++)if(this.data[u]){var S=this.data[u].toSVG(h,n,this.SVGremap,d),p=i.w;0===p&&-S.l>10*S.w&&(p+=-S.l),i.Add(S,p,0,!0),S.skew&&(i.skew=S.skew)}return i.Clean(),1!==this.data.join("").length&&delete i.skew,r.largeop&&(i.y=a.TeX.axis_height-(i.h-i.d)/2/n,i.r>i.w&&(i.ic=i.r-i.w,i.w=i.r)),this.SVGhandleColor(i),this.SVGsaveData(i),i},CoreParent:function(){for(var t=this;t&&t.isEmbellished()&&t.CoreMO()===this&&!t.isa(s.math);)t=t.Parent();return t},CoreText:function(t){if(!t)return"";if(t.isEmbellished())return t.CoreMO().data.join("");for(;(t.isa(s.mrow)||t.isa(s.TeXAtom)||t.isa(s.mstyle)||t.isa(s.mphantom))&&1===t.data.length&&t.data[0];)t=t.data[0];return t.isToken?t.data.join(""):""},SVGremapChars:{"*":"∗",'"':"″","°":"∘","²":"2","³":"3","´":"′","¹":"1"},SVGremap:function(t,e){return t=t.replace(/-/g,"−"),e&&(t=t.replace(/'/g,"′").replace(/`/g,"‵"),1===t.length&&(t=e[t]||t)),t},SVGcanStretch:function(t){if(!this.Get("stretchy"))return!1;
var e=this.data.join("");if(e.length>1)return!1;var i=this.CoreParent();if(i&&i.isa(s.munderover)&&1===this.CoreText(i.data[i.base]).length){var n=i.data[i.over],h=i.data[i.under];n&&this===n.CoreMO()&&i.Get("accent")?e=a.FONTDATA.REMAPACCENT[e]||e:h&&this===h.CoreMO()&&i.Get("accentunder")&&(e=a.FONTDATA.REMAPACCENTUNDER[e]||e)}e=a.FONTDATA.DELIMITERS[e.charCodeAt(0)];var r=e&&e.dir==t.substr(0,1);return r||delete this.svg,this.forceStretch=r&&(this.Get("minsize",!0)||this.Get("maxsize",!0)),r},SVGstretchV:function(t,e){var i,s=this.svg||this.toSVG(),n=this.getValues("symmetric","maxsize","minsize"),h=a.TeX.axis_height*s.scale,r=this.SVGgetMu(s);return i=n.symmetric?2*Math.max(t-h,e+h):t+e,n.maxsize=a.length2em(n.maxsize,r,s.h+s.d),n.minsize=a.length2em(n.minsize,r,s.h+s.d),i=Math.max(n.minsize,Math.min(n.maxsize,i)),s=a.createDelimiter(this.data.join("").charCodeAt(0),i,s.scale),i=n.symmetric?(s.h+s.d)/2+h:(s.h+s.d)*t/(t+e),s.y=i-s.h,this.SVGhandleSpace(s),this.SVGhandleColor(s),delete this.svg.element,this.SVGsaveData(s),s.stretched=!0,s},SVGstretchH:function(t){var e=this.svg||this.toSVG(),i=this.SVGgetMu(e),n=this.getValues("maxsize","minsize","mathvariant","fontweight");return("bold"===n.fontweight||parseInt(n.fontweight)>=600)&&!this.Get("mathvariant",!0)&&(n.mathvariant=s.VARIANT.BOLD),n.maxsize=a.length2em(n.maxsize,i,e.w),n.minsize=a.length2em(n.minsize,i,e.w),t=Math.max(n.minsize,Math.min(n.maxsize,t)),e=a.createDelimiter(this.data.join("").charCodeAt(0),t,e.scale,n.mathvariant),this.SVGhandleSpace(e),this.SVGhandleColor(e),delete this.svg.element,this.SVGsaveData(e),e.stretched=!0,e}}),s.mtext.Augment({toSVG:function(){if(a.config.mtextFontInherit||"merror"===this.Parent().type){this.SVGgetStyles();var t=this.SVG(),e=this.SVGgetScale(t);this.SVGhandleSpace(t);var i=this.SVGgetVariant(),s={direction:this.Get("dir")};return i.bold&&(s["font-weight"]="bold"),i.italic&&(s["font-style"]="italic"),i=this.Get("mathvariant"),"monospace"===i?s["class"]="MJX-monospace":i.match(/sans-serif/)&&(s["class"]="MJX-sans-serif"),t.Add(r.TEXT(e,this.data.join(""),s)),t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t}return this.SUPER(arguments).toSVG.call(this)}}),s.merror.Augment({toSVG:function(){this.SVGgetStyles();var t=this.SVG(),e=a.length2em(this.styles.fontSize||1)/1e3;this.SVGhandleSpace(t);var i=1!==e?{transform:"scale("+e+")"}:{},s=r(i);if(s.Add(this.SVGchildSVG(0)),s.Clean(),1!==e){s.removeable=!1;for(var n=["w","h","d","l","r","D","H"],h=0,l=n.length;l>h;h++)s[n[h]]*=e}return t.Add(s),t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t},SVGgetStyles:function(){var t=i.Element("span",{style:a.config.merrorStyle});this.styles=this.SVGprocessStyles(t.style),this.style&&(t.style.cssText=this.style,e.Insert(this.styles,this.SVGprocessStyles(t.style)))}}),s.ms.Augment({toSVG:s.mbase.SVGautoload}),s.mglyph.Augment({toSVG:s.mbase.SVGautoload}),s.mspace.Augment({toSVG:function(){this.SVGgetStyles();var t=this.getValues("height","depth","width");t.mathbackground=this.mathbackground,this.background&&!this.mathbackground&&(t.mathbackground=this.background);var e=this.SVG();this.SVGgetScale(e);var i=this.mscale,s=this.SVGgetMu(e);return e.h=a.length2em(t.height,s)*i,e.d=a.length2em(t.depth,s)*i,e.w=e.r=a.length2em(t.width,s)*i,e.w<0&&(e.x=e.w,e.w=e.r=0),e.h<-e.d&&(e.d=-e.h),e.l=0,e.Clean(),this.SVGhandleColor(e),this.SVGsaveData(e),e}}),s.mphantom.Augment({toSVG:function(t,e){this.SVGgetStyles();var i=this.SVG();if(this.SVGgetScale(i),null!=this.data[0])for(this.SVGhandleSpace(i),i.Add(this.SVGdataStretched(0,t,e)),i.Clean();i.element.firstChild;)i.element.removeChild(i.element.firstChild);return this.SVGhandleColor(i),this.SVGsaveData(i),i.removeable&&!i.element.firstChild&&delete i.element,i}}),s.mpadded.Augment({toSVG:function(t,e){this.SVGgetStyles();var i=this.SVG();if(null!=this.data[0]){this.SVGgetScale(i),this.SVGhandleSpace(i);var a=this.SVGdataStretched(0,t,e),s=this.SVGgetMu(i),n=this.getValues("height","depth","width","lspace","voffset"),h=0,r=0;n.lspace&&(h=this.SVGlength2em(a,n.lspace,s)),n.voffset&&(r=this.SVGlength2em(a,n.voffset,s));var l=a.h,o=a.d,d=a.w;i.Add(a,h,r),i.Clean(),i.h=l,i.d=o,i.w=d,i.removeable=!1,""!==n.height&&(i.h=this.SVGlength2em(i,n.height,s,"h",0)),""!==n.depth&&(i.d=this.SVGlength2em(i,n.depth,s,"d",0)),""!==n.width&&(i.w=this.SVGlength2em(i,n.width,s,"w",0)),i.h>i.H&&(i.H=i.h),i.d>i.D&&(i.D=i.d)}return this.SVGhandleColor(i),this.SVGsaveData(i),i},SVGlength2em:function(t,e,i,s,n){null==n&&(n=-a.BIGDIMEN);var h=String(e).match(/width|height|depth/),r=h?t[h[0].charAt(0)]:s?t[s]:0,l=a.length2em(e,i,r/this.mscale)*this.mscale;return s&&String(e).match(/^\s*[-+]/)?Math.max(n,t[s]+l):l}}),s.mrow.Augment({SVG:r.ROW,toSVG:function(){this.SVGgetStyles();var t=this.SVG();this.SVGhandleSpace(t);for(var e=0,i=this.data.length;i>e;e++)this.data[e]&&t.Check(this.data[e]);return t.Stretch(),t.Clean(),this.SVGlineBreaks(t)&&(t=this.SVGmultiline(t)),this.SVGhandleColor(t),this.SVGsaveData(t),t},SVGlineBreaks:function(t){return this.parent.linebreakContainer?a.config.linebreaks.automatic&&t.w>a.linebreakWidth||this.hasNewline():!1},SVGmultiline:function(){s.mbase.SVGautoloadFile("multiline")},SVGstretchH:function(t){var e=this.data[this.core].SVGstretchH(t);return this.SVGhandleColor(e),this.SVGsaveData(e),e},SVGstretchV:function(t,e){var i=this.data[this.core].SVGstretchV(t,e);return this.SVGhandleColor(i),this.SVGsaveData(i),i}}),s.mstyle.Augment({toSVG:function(){this.SVGgetStyles();var t=this.SVG();if(null!=this.data[0]){this.SVGhandleSpace(t);var e=t.Add(this.data[0].toSVG());t.Clean(),e.ic&&(t.ic=e.ic),this.SVGhandleColor(t)}return this.SVGsaveData(t),t},SVGstretchH:function(t){return null!=this.data[0]?this.data[0].SVGstretchH(t):r.NULL()},SVGstretchV:function(t,e){return null!=this.data[0]?this.data[0].SVGstretchV(t,e):r.NULL()}}),s.mfrac.Augment({toSVG:function(){this.SVGgetStyles();var t=this.SVG(),e=this.SVGgetScale(t),i=r();i.scale=t.scale,this.SVGhandleSpace(i);var s=this.SVGchildSVG(0),n=this.SVGchildSVG(1),h=this.getValues("displaystyle","linethickness","numalign","denomalign","bevelled"),l=h.displaystyle,o=a.TeX.axis_height*e;if(h.bevelled){var d=l?400:150,m=Math.max(s.h+s.d,n.h+n.d)+2*d,c=a.createDelimiter(47,m);i.Add(s,0,(s.d-s.h)/2+o+d),i.Add(c,s.w-d/2,(c.d-c.h)/2+o),i.Add(n,s.w+c.w-d,(n.d-n.h)/2+o-d)}else{var u,f,S,p,g=Math.max(s.w,n.w),V=a.thickness2em(h.linethickness,this.scale)*this.mscale,G=a.TeX.min_rule_thickness/a.em*1e3;l?(S=a.TeX.num1,p=a.TeX.denom1):(S=0===V?a.TeX.num3:a.TeX.num2,p=a.TeX.denom2),S*=e,p*=e,0===V?(u=Math.max((l?7:3)*a.TeX.rule_thickness,2*G),f=S-s.d-(n.h-p),u>f&&(S+=(u-f)/2,p+=(u-f)/2),i.w=g,V=0):(u=Math.max((l?2:0)*G+V,V/2+1.5*G),f=S-s.d-(o+V/2),u>f&&(S+=u-f),f=o-V/2-(n.h-p),u>f&&(p+=u-f),i.Add(r.RECT(V/2,V/2,g+2*V),0,o)),i.Align(s,h.numalign,V,S),i.Align(n,h.denomalign,V,-p)}return i.Clean(),t.Add(i,0,0),t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t},SVGcanStretch:function(){return!1},SVGhandleSpace:function(t){this.texWithDelims||this.useMMLspacing||(t.x=t.X=a.TeX.nulldelimiterspace*this.mscale),this.SUPER(arguments).SVGhandleSpace.call(this,t)}}),s.msqrt.Augment({toSVG:function(){this.SVGgetStyles();var t=this.SVG(),e=this.SVGgetScale(t);this.SVGhandleSpace(t);var i,s,n,h,l,o=this.SVGchildSVG(0),d=a.TeX.rule_thickness*e,m=0;return n=this.Get("displaystyle")?a.TeX.x_height*e:d,h=Math.max(d+n/4,1e3*a.TeX.min_root_space/a.em),l=o.h+o.d+h+d,s=a.createDelimiter(8730,l,e),s.h+s.d>l&&(h=(s.h+s.d-(l-d))/2),i=r.RECT(d,0,o.w),l=o.h+h+d,m=this.SVGaddRoot(t,s,m,s.h+s.d-l,e),t.Add(s,m,l-s.h),t.Add(i,m+s.w,l-i.h),t.Add(o,m+s.w,0),t.Clean(),t.h+=d,t.H+=d,this.SVGhandleColor(t),this.SVGsaveData(t),t},SVGaddRoot:function(t,e,i){return i}}),s.mroot.Augment({toSVG:s.msqrt.prototype.toSVG,SVGaddRoot:function(t,e,i,a,s){var n=(e.isMultiChar?.55:.65)*e.w;if(this.data[1]){var h=this.data[1].toSVG();h.x=0;var r=this.SVGrootHeight(e.h+e.d,s,h)-a,l=Math.min(h.w,h.r);i=Math.max(l,n),t.Add(h,i-l,r)}else n=i;return i-n},SVGrootHeight:function(t,e,i){return.45*(t-900*e)+600*e+Math.max(0,i.d-75)}}),s.mfenced.Augment({SVG:r.ROW,toSVG:function(){this.SVGgetStyles();var t=this.SVG();this.SVGhandleSpace(t),this.data.open&&t.Check(this.data.open),null!=this.data[0]&&t.Check(this.data[0]);for(var e=1,i=this.data.length;i>e;e++)this.data[e]&&(this.data["sep"+e]&&t.Check(this.data["sep"+e]),t.Check(this.data[e]));return this.data.close&&t.Check(this.data.close),t.Stretch(),t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t}}),s.menclose.Augment({toSVG:s.mbase.SVGautoload}),s.maction.Augment({toSVG:s.mbase.SVGautoload}),s.semantics.Augment({toSVG:function(){this.SVGgetStyles();var t=this.SVG();return null!=this.data[0]?(this.SVGhandleSpace(t),t.Add(this.data[0].toSVG()),t.Clean()):t.Clean(),this.SVGsaveData(t),t},SVGstretchH:function(t){return null!=this.data[0]?this.data[0].SVGstretchH(t):r.NULL()},SVGstretchV:function(t,e){return null!=this.data[0]?this.data[0].SVGstretchV(t,e):r.NULL()}}),s.munderover.Augment({toSVG:function(t,e){this.SVGgetStyles();var i=this.getValues("displaystyle","accent","accentunder","align");if(!i.displaystyle&&null!=this.data[this.base]&&this.data[this.base].CoreMO().Get("movablelimits"))return s.msubsup.prototype.toSVG.call(this);var n=this.SVG(),h=this.SVGgetScale(n);this.SVGhandleSpace(n);var l,o,d,m=[],c=[],u=-a.BIGDIMEN,f=u;for(o=0,d=this.data.length;d>o;o++)null!=this.data[o]&&(o==this.base?(m[o]=this.SVGdataStretched(o,t,e),c[o]=(null!=e||null==t)&&this.data[o].SVGcanStretch("Horizontal")):(m[o]=this.data[o].toSVG(),m[o].x=0,delete m[o].X,c[o]=this.data[o].SVGcanStretch("Horizontal")),m[o].w>f&&(f=m[o].w),!c[o]&&f>u&&(u=f));for(null==e&&null!=t?u=t:u==-a.BIGDIMEN&&(u=f),o=f=0,d=this.data.length;d>o;o++)this.data[o]&&(c[o]&&(m[o]=this.data[o].SVGstretchH(u),o!==this.base&&(m[o].x=0,delete m[o].X)),m[o].w>f&&(f=m[o].w));var S,p,g,V,G,v,y,A=a.TeX.rule_thickness*this.mscale,x=m[this.base]||{w:0,h:0,d:0,H:0,D:0,l:0,r:0,y:0,scale:h},b=0;for(x.ic&&(b=1.3*x.ic+.05),o=0,d=this.data.length;d>o;o++)if(null!=this.data[o]){l=m[o],G=a.TeX.big_op_spacing5*h;var C=o!=this.base&&i[this.ACCENTS[o]];C&&l.w<=1&&(l.x=-l.l,m[o]=r.G().With({removeable:!1}),m[o].Add(l),m[o].Clean(),m[o].w=-l.l,l=m[o]),v={left:0,center:(f-l.w)/2,right:f-l.w}[i.align],S=v,p=0,o==this.over?(C?(y=A*h,G=0,x.skew&&(S+=x.skew)):(g=a.TeX.big_op_spacing1*h,V=a.TeX.big_op_spacing3*h,y=Math.max(g,V-Math.max(0,l.d))),y=Math.max(y,1500/a.em),S+=b/2,p=x.y+x.h+l.d+y,l.h+=G,l.h>l.H&&(l.H=l.h)):o==this.under&&(C?(y=3*A*h,G=0):(g=a.TeX.big_op_spacing2*h,V=a.TeX.big_op_spacing4*h,y=Math.max(g,V-l.h)),y=Math.max(y,1500/a.em),S-=b/2,p=x.y-(x.d+l.h+y),l.d+=G,l.d>l.D&&(l.D=l.d)),n.Add(l,S,p)}return n.Clean(),this.SVGhandleColor(n),this.SVGsaveData(n),n}}),s.msubsup.Augment({toSVG:function(t,e){this.SVGgetStyles();var i=this.SVG(),s=this.SVGgetScale(i);this.SVGhandleSpace(i);var n,h,r=this.SVGgetMu(i),l=i.Add(this.SVGdataStretched(this.base,t,e)),o=(this.data[this.sup]||this.data[this.sub]||this).SVGgetScale(),d=a.TeX.x_height*s,m=a.TeX.scriptspace*s;this.SVGnotEmpty(this.data[this.sup])&&(n=this.data[this.sup].toSVG(),n.w+=m,n.r=Math.max(n.w,n.r)),this.SVGnotEmpty(this.data[this.sub])&&(h=this.data[this.sub].toSVG(),h.w+=m,h.r=Math.max(h.w,h.r));var c,u=a.TeX.sup_drop*o,f=a.TeX.sub_drop*o,S=l.h+(l.y||0)-u,p=l.d-(l.y||0)+f,g=0;l.ic&&(l.w-=l.ic,g=1.3*l.ic+.05),!this.data[this.base]||"mi"!==this.data[this.base].type&&"mo"!==this.data[this.base].type||1!==this.data[this.base].data.join("").length||1!==l.scale||l.stretched||this.data[this.base].Get("largeop")||(S=p=0);var V=this.getValues("subscriptshift","superscriptshift");if(V.subscriptshift=""===V.subscriptshift?0:a.length2em(V.subscriptshift,r),V.superscriptshift=""===V.superscriptshift?0:a.length2em(V.superscriptshift,r),n)if(h){p=Math.max(p,a.TeX.sub2*s);var G=a.TeX.rule_thickness*s;S-n.d-(h.h-p)<3*G&&(p=3*G-S+n.d+h.h,u=.8*d-(S-n.d),u>0&&(S+=u,p-=u)),i.Add(n,l.w+g,Math.max(S,V.superscriptshift)),i.Add(h,l.w,-Math.max(p,V.subscriptshift)),this.data[this.sup].SVGdata.dx=g,this.data[this.sup].SVGdata.dy=Math.max(S,V.superscriptshift),this.data[this.sub].SVGdata.dy=-Math.max(p,V.subscriptshift)}else values=this.getValues("displaystyle","texprimestyle"),c=a.TeX[values.displaystyle?"sup1":values.texprimestyle?"sup3":"sup2"],S=Math.max(S,c*s,n.d+.25*d,V.superscriptshift),i.Add(n,l.w+g,S),this.data[this.sup].SVGdata.dx=g,this.data[this.sup].SVGdata.dy=S;else h&&(p=Math.max(p,a.TeX.sub1*s,h.h-.8*d,V.subscriptshift),i.Add(h,l.w,-p),this.data[this.sub].SVGdata.dy=-p);return i.Clean(),this.SVGhandleColor(i),this.SVGsaveData(i),i}}),s.mmultiscripts.Augment({toSVG:s.mbase.SVGautoload}),s.mtable.Augment({toSVG:s.mbase.SVGautoload}),s["annotation-xml"].Augment({toSVG:s.mbase.SVGautoload}),s.math.Augment({SVG:r.Subclass({type:"svg",removeable:!1}),toSVG:function(t,n){if(this.data[0]){this.SVGgetStyles(),s.mbase.prototype.displayAlign=e.config.displayAlign,s.mbase.prototype.displayIndent=e.config.displayIndent;var l=r.G({stroke:"black",fill:"black","stroke-width":0,transform:"matrix(1 0 0 -1 0 0)"}).With({removeable:!1});l.Add(this.data[0].toSVG(),0,0,!0),l.Clean(),this.SVGhandleColor(l);var o=this.SVG();if(o.element.setAttribute("xmlns:xlink",h),o.Add(l),o.Clean(),this.SVGsaveData(o),!t)return o.element=o.element.firstChild,o.element.removeAttribute("transform"),o.removable=!0,o;var d=Math.max(-o.l,0),m=Math.max(o.r-o.w,0),c=o.element.style;if(c.width=a.Ex(d+o.w+m),c.height=a.Ex(o.H+o.D+2*a.em),c.verticalAlign=a.Ex(-o.D-3*a.em),c.marginLeft=a.Ex(-d),c.marginRight=a.Ex(-m),o.element.setAttribute("viewBox",-d+" "+(-o.H-a.em)+" "+(d+o.w+m)+" "+(o.H+o.D+2*a.em)),o.element.style.margin="1px 0px",o.H>o.h||o.D>o.d){var u=i.Element("span",{style:{display:"inline-block","white-space":"nowrap",padding:"1px 0px"},isMathJax:!0},[["span",{style:{display:"inline-block",position:"relative",isMathJax:!0,width:a.Ex(o.w),height:a.Ex(o.h+o.d),"vertical-align":a.Ex(-o.d)}}]]);u.firstChild.appendChild(o.element),o.element=u,c.verticalAlign=c.margin="",c.position="absolute",c.bottom=a.Ex(o.d-o.D),c.left=0}if(t.appendChild(o.element),o.element=null,!this.isMultiline&&"block"===this.Get("display")){var f=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");f.indentalignfirst!==s.INDENTALIGN.INDENTALIGN&&(f.indentalign=f.indentalignfirst),f.indentalign===s.INDENTALIGN.AUTO&&(f.indentalign=this.displayAlign),n.style.textAlign=f.indentalign,f.indentshiftfirst!==s.INDENTSHIFT.INDENTSHIFT&&(f.indentshift=f.indentshiftfirst),"auto"===f.indentshift&&(f.indentshift=this.displayIndent),f.indentshift&&f.indentalign!==s.INDENTALIGN.CENTER&&!o.hasIndent&&(t.style[{left:"marginLeft",right:"marginRight"}[f.indentalign]]=a.Ex(a.length2em(f.indentshift)))}}return t}}),s.TeXAtom.Augment({toSVG:function(t,e){this.SVGgetStyles();var i=this.SVG();if(this.SVGhandleSpace(i),null!=this.data[0]){var n=this.SVGdataStretched(0,t,e),h=0;this.texClass===s.TEXCLASS.VCENTER&&(h=a.TeX.axis_height-(n.h+n.d)/2+n.d),i.Add(n,0,h),i.ic=n.ic}return this.SVGhandleColor(i),this.SVGsaveData(i),i}}),e.Register.StartupHook("onLoad",function(){setTimeout(MathJax.Callback(["loadComplete",a,"jax.js"]),0)})}),e.Browser.Select({Opera:function(){a.Augment({operaZoomRefresh:!0})}}),e.Register.StartupHook("End Cookie",function(){"None"!==e.config.menuSettings.zoom&&t.Require("[MathJax]/extensions/MathZoom.js")}),document.createElementNS||(document.namespaces.svg||document.namespaces.add("svg",n),a.Augment({Element:function(t,e){var i="string"==typeof t?document.createElement("svg:"+t):t;if(i.isMathJax=!0,e)for(var a in e)e.hasOwnProperty(a)&&i.setAttribute(a,e[a].toString());return i}}))}(MathJax.Ajax,MathJax.Hub,MathJax.HTML,MathJax.OutputJax.SVG);