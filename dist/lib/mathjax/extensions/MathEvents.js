!function(e,t,o,i,a,n,r){var s="2.4.0",h=MathJax.Extension,u=h.MathEvents={version:s},l=e.config.menuSettings,d={hover:500,frame:{x:3.5,y:5,bwidth:1,bcolor:"#A6D",hwidth:"15px",hcolor:"#83A"},button:{x:-4,y:-3,wx:-2,src:o.urlRev(n.imageDir+"/MenuArrow-15.png")},fadeinInc:.2,fadeoutInc:.05,fadeDelay:50,fadeoutStart:400,fadeoutDelay:15e3,styles:{".MathJax_Hover_Frame":{"border-radius":".25em","-webkit-border-radius":".25em","-moz-border-radius":".25em","-khtml-border-radius":".25em","box-shadow":"0px 0px 15px #83A","-webkit-box-shadow":"0px 0px 15px #83A","-moz-box-shadow":"0px 0px 15px #83A","-khtml-box-shadow":"0px 0px 15px #83A",border:"1px solid #A6D ! important",display:"inline-block",position:"absolute"},".MathJax_Hover_Arrow":{position:"absolute",width:"15px",height:"11px",cursor:"pointer"}}},m=u.Event={LEFTBUTTON:0,RIGHTBUTTON:2,MENUKEY:"altKey",Mousedown:function(e){return m.Handler(e,"Mousedown",this)},Mouseup:function(e){return m.Handler(e,"Mouseup",this)},Mousemove:function(e){return m.Handler(e,"Mousemove",this)},Mouseover:function(e){return m.Handler(e,"Mouseover",this)},Mouseout:function(e){return m.Handler(e,"Mouseout",this)},Click:function(e){return m.Handler(e,"Click",this)},DblClick:function(e){return m.Handler(e,"DblClick",this)},Menu:function(e){return m.Handler(e,"ContextMenu",this)},Handler:function(e,t,i){if(o.loadingMathMenu)return m.False(e);var a=n[i.jaxID];return e||(e=window.event),e.isContextMenu="ContextMenu"===t,a[t]?a[t](e,i):h.MathZoom?h.MathZoom.HandleEvent(e,t,i):void 0},False:function(e){return e||(e=window.event),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0),!1},ContextMenu:function(t,s,h){var d=n[s.jaxID],c=d.getJaxFromMath(s),f=(null!=d.config.showMathMenu?d:e).config.showMathMenu;if(f&&("MathJax"===l.context||h)){u.msieEventBug&&(t=window.event||t),m.ClearSelection(),v.ClearHoverTimer(),c.hover&&(c.hover.remove&&(clearTimeout(c.hover.remove),delete c.hover.remove),c.hover.nofade=!0);var M,x,p=MathJax.Menu;if(p){if(p.loadingDomain)return m.False(t);if(M=a.loadDomain("MathMenu"),!M){p.jax=c;var g=p.menu.Find("Show Math As").menu;g.items[0].name=c.sourceMenuTitle,g.items[0].format=c.sourceMenuFormat||"MathML",g.items[1].name=r[c.inputJax].sourceMenuTitle,g.items[5].disabled=!r[c.inputJax].annotationEncoding;var y=g.items[2];y.disabled=!0;var w=y.menu.items;annotationList=MathJax.Hub.Config.semanticsAnnotations;for(var b=0,H=w.length;H>b;b++){var T=w[b].name[1];c.root&&null!==c.root.getAnnotation(T)?(y.disabled=!1,w[b].hidden=!1):w[b].hidden=!0}var C=p.menu.Find("Math Settings","MathPlayer");return C.hidden=!("NativeMML"===c.outputJax&&e.Browser.hasMathPlayer),p.menu.Post(t)}p.loadingDomain=!0,x=function(){delete p.loadingDomain}}else{if(o.loadingMathMenu)return m.False(t);o.loadingMathMenu=!0,M=o.Require("[MathJax]/extensions/MathMenu.js"),x=function(){delete o.loadingMathMenu,MathJax.Menu||(MathJax.Menu={})}}var J={pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY};return i.Queue(M,x,["ContextMenu",m,J,s,h]),m.False(t)}},AltContextMenu:function(t,o){var i=n[o.jaxID],a=(null!=i.config.showMathMenu?i:e).config.showMathMenu;if(a){if(a=(null!=i.config.showMathMenuMSIE?i:e).config.showMathMenuMSIE,"MathJax"===l.context&&!l.mpContext&&a){if(!u.noContextMenuBug||t.button!==m.RIGHTBUTTON)return}else if(!t[m.MENUKEY]||t.button!==m.LEFTBUTTON)return;return i.ContextMenu(t,o,!0)}},ClearSelection:function(){u.safariContextMenuBug&&setTimeout("window.getSelection().empty()",0),document.selection&&setTimeout("document.selection.empty()",0)},getBBox:function(e){e.appendChild(u.topImg);var t=u.topImg.offsetTop,o=e.offsetHeight-t,i=e.offsetWidth;return e.removeChild(u.topImg),{w:i,h:t,d:o}}},v=u.Hover={Mouseover:function(t,o){if(l.discoverable||"Hover"===l.zoom){var i=t.fromElement||t.relatedTarget,a=t.toElement||t.target;if(i&&a&&(i.isMathJax!=a.isMathJax||e.getJaxFor(i)!==e.getJaxFor(a))){var n=this.getJaxFromMath(o);return n.hover?v.ReHover(n):v.HoverTimer(n,o),m.False(t)}}},Mouseout:function(t,o){if(l.discoverable||"Hover"===l.zoom){var i=t.fromElement||t.relatedTarget,a=t.toElement||t.target;if(i&&a&&(i.isMathJax!=a.isMathJax||e.getJaxFor(i)!==e.getJaxFor(a))){var n=this.getJaxFromMath(o);return n.hover?v.UnHover(n):v.ClearHoverTimer(),m.False(t)}}},Mousemove:function(e,t){if(l.discoverable||"Hover"===l.zoom){var o=this.getJaxFromMath(t);if(o.hover)return;if(v.lastX==e.clientX&&v.lastY==e.clientY)return;return v.lastX=e.clientX,v.lastY=e.clientY,v.HoverTimer(o,t),m.False(e)}},HoverTimer:function(e,t){this.ClearHoverTimer(),this.hoverTimer=setTimeout(i(["Hover",this,e,t]),d.hover)},ClearHoverTimer:function(){this.hoverTimer&&(clearTimeout(this.hoverTimer),delete this.hoverTimer)},Hover:function(o,i){if(!h.MathZoom||!h.MathZoom.Hover({},i)){var a=n[o.outputJax],r=a.getHoverSpan(o,i),s=a.getHoverBBox(o,r,i),l=(null!=a.config.showMathMenu?a:e).config.showMathMenu,m=d.frame.x,v=d.frame.y,c=d.frame.bwidth;u.msieBorderWidthBug&&(c=0),o.hover={opacity:0,id:o.inputID+"-Hover"};var f=t.Element("span",{id:o.hover.id,isMathJax:!0,style:{display:"inline-block",width:0,height:0,position:"relative"}},[["span",{className:"MathJax_Hover_Frame",isMathJax:!0,style:{display:"inline-block",position:"absolute",top:this.Px(-s.h-v-c-(s.y||0)),left:this.Px(-m-c+(s.x||0)),width:this.Px(s.w+2*m),height:this.Px(s.h+s.d+2*v),opacity:0,filter:"alpha(opacity=0)"}}]]),M=t.Element("span",{isMathJax:!0,id:o.hover.id+"Menu",style:{display:"inline-block","z-index":1,width:0,height:0,position:"relative"}},[["img",{className:"MathJax_Hover_Arrow",isMathJax:!0,math:i,src:d.button.src,onclick:this.HoverMenu,jax:a.id,style:{left:this.Px(s.w+m+c+(s.x||0)+d.button.x),top:this.Px(-s.h-v-c-(s.y||0)-d.button.y),opacity:0,filter:"alpha(opacity=0)"}}]]);s.width&&(f.style.width=M.style.width=s.width,f.style.marginRight=M.style.marginRight="-"+s.width,f.firstChild.style.width=s.width,M.firstChild.style.left="",M.firstChild.style.right=this.Px(d.button.wx)),r.parentNode.insertBefore(f,r),l&&r.parentNode.insertBefore(M,r),r.style&&(r.style.position="relative"),this.ReHover(o)}},ReHover:function(e){e.hover.remove&&clearTimeout(e.hover.remove),e.hover.remove=setTimeout(i(["UnHover",this,e]),d.fadeoutDelay),this.HoverFadeTimer(e,d.fadeinInc)},UnHover:function(e){e.hover.nofade||this.HoverFadeTimer(e,-d.fadeoutInc,d.fadeoutStart)},HoverFade:function(e){delete e.hover.timer,e.hover.opacity=Math.max(0,Math.min(1,e.hover.opacity+e.hover.inc)),e.hover.opacity=Math.floor(1e3*e.hover.opacity)/1e3;var t=document.getElementById(e.hover.id),o=document.getElementById(e.hover.id+"Menu");if(t.firstChild.style.opacity=e.hover.opacity,t.firstChild.style.filter="alpha(opacity="+Math.floor(100*e.hover.opacity)+")",o&&(o.firstChild.style.opacity=e.hover.opacity,o.firstChild.style.filter=t.style.filter),1!==e.hover.opacity){if(e.hover.opacity>0)return void this.HoverFadeTimer(e,e.hover.inc);t.parentNode.removeChild(t),o&&o.parentNode.removeChild(o),e.hover.remove&&clearTimeout(e.hover.remove),delete e.hover}},HoverFadeTimer:function(e,t,o){e.hover.inc=t,e.hover.timer||(e.hover.timer=setTimeout(i(["HoverFade",this,e]),o||d.fadeDelay))},HoverMenu:function(e){return e||(e=window.event),n[this.jax].ContextMenu(e,this.math,!0)},ClearHover:function(e){e.hover.remove&&clearTimeout(e.hover.remove),e.hover.timer&&clearTimeout(e.hover.timer),v.ClearHoverTimer(),delete e.hover},Px:function(e){return Math.abs(e)<.006?"0px":e.toFixed(2).replace(/\.?0+$/,"")+"px"},getImages:function(){if(l.discoverable){var e=new Image;e.src=d.button.src}}},c=u.Touch={last:0,delay:500,start:function(e){var t=(new Date).getTime(),o=t-c.last<c.delay&&c.up;c.last=t,c.up=!1,o&&(c.timeout=setTimeout(c.menu,c.delay,e,this),e.preventDefault())},end:function(e){var t=(new Date).getTime();return c.up=t-c.last<c.delay,c.timeout?(clearTimeout(c.timeout),delete c.timeout,c.last=0,c.up=!1,e.preventDefault(),m.Handler(e.touches[0]||e.touch,"DblClick",this)):void 0},menu:function(e,t){return delete c.timeout,c.last=0,c.up=!1,m.Handler(e.touches[0]||e.touch,"ContextMenu",t)}};if(e.Browser.isMobile){var f=d.styles[".MathJax_Hover_Arrow"];f.width="25px",f.height="18px",d.button.x=-6}e.Browser.Select({MSIE:function(e){var t=document.documentMode||0,o=e.versionAtLeast("8.0");u.msieBorderWidthBug="BackCompat"===document.compatMode,u.msieEventBug=e.isIE9,u.msieAlignBug=!o||8>t,9>t&&(m.LEFTBUTTON=1)},Safari:function(){u.safariContextMenuBug=!0},Opera:function(){u.operaPositionBug=!0},Konqueror:function(){u.noContextMenuBug=!0}}),u.topImg=u.msieAlignBug?t.Element("img",{style:{width:0,height:0,position:"relative"},src:"about:blank"}):t.Element("span",{style:{width:0,height:0,display:"inline-block"}}),u.operaPositionBug&&(u.topImg.style.border="1px solid"),u.config=d=e.CombineConfig("MathEvents",d);var M=function(){var e=d.styles[".MathJax_Hover_Frame"];e.border=d.frame.bwidth+"px solid "+d.frame.bcolor+" ! important",e["box-shadow"]=e["-webkit-box-shadow"]=e["-moz-box-shadow"]=e["-khtml-box-shadow"]="0px 0px "+d.frame.hwidth+" "+d.frame.hcolor};i.Queue(e.Register.StartupHook("End Config",{}),[M],["getImages",v],["Styles",o,d.styles],["Post",e.Startup.signal,"MathEvents Ready"],["loadComplete",o,"[MathJax]/extensions/MathEvents.js"])}(MathJax.Hub,MathJax.HTML,MathJax.Ajax,MathJax.Callback,MathJax.Localization,MathJax.OutputJax,MathJax.InputJax);