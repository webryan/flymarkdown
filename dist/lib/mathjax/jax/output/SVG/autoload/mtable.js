MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var t=MathJax.ElementJax.mml,e=MathJax.OutputJax.SVG,a=e.BBOX;t.mtable.Augment({toSVG:function(){this.SVGgetStyles();var n=this.SVG(),i=this.SVGgetScale(n);if(0===this.data.length)return this.SVGsaveData(n),n;var l=this.getValues("columnalign","rowalign","columnspacing","rowspacing","columnwidth","equalcolumns","equalrows","columnlines","rowlines","frame","framespacing","align","useHeight","width","side","minlabelspacing");l.width.match(/%$/)&&(n.width=l.width=Math.floor(e.cwidth*parseFloat(l.width)/100)+"px");var h,s,r,g,o,d,m,f,c,u=this.SVGgetMu(n),S=-1,p=[],V=[],G=[],w=[],x=[],M=-1,N=e.FONTDATA.lineH*i*l.useHeight,A=e.FONTDATA.lineD*i*l.useHeight;for(h=0,r=this.data.length;r>h;h++)for(d=this.data[h],o="mlabeledtr"===d.type?S:0,w[h]=[],p[h]=N,V[h]=A,s=o,g=d.data.length+o;g>s;s++){if(null==G[s]&&(s>M&&(M=s),x[s]=a.G(),G[s]=-e.BIGDIMEN),m=d.data[s-o],w[h][s]=m.toSVG(),m.isEmbellished()){f=m.CoreMO();var I=f.Get("minsize",!0);I&&(f.SVGcanStretch("Vertical")?(c=f.SVGdata.h+f.SVGdata.d,c&&(I=e.length2em(I,u,c),I*f.SVGdata.h/c>p[h]&&(p[h]=I*f.SVGdata.h/c),I*f.SVGdata.d/c>V[h]&&(V[h]=I*f.SVGdata.d/c))):f.SVGcanStretch("Horizontal")&&(I=e.length2em(I,u,f.SVGdata.w),I>G[s]&&(G[s]=I)))}w[h][s].h>p[h]&&(p[h]=w[h][s].h),w[h][s].d>V[h]&&(V[h]=w[h][s].d),w[h][s].w>G[s]&&(G[s]=w[h][s].w)}var v=MathJax.Hub.SplitList,b=v(l.columnspacing),E=v(l.rowspacing),H=v(l.columnalign),T=v(l.rowalign),y=v(l.columnlines),D=v(l.rowlines),L=v(l.columnwidth),J=[];for(h=0,r=b.length;r>h;h++)b[h]=e.length2em(b[h],u);for(h=0,r=E.length;r>h;h++)E[h]=e.length2em(E[h],u);for(;b.length<M;)b.push(b[b.length-1]);for(;H.length<=M;)H.push(H[H.length-1]);for(;y.length<M;)y.push(y[y.length-1]);for(;L.length<=M;)L.push(L[L.length-1]);for(;E.length<w.length;)E.push(E[E.length-1]);for(;T.length<=w.length;)T.push(T[T.length-1]);for(;D.length<w.length;)D.push(D[D.length-1]);for(x[S]&&(H[S]="l"===l.side.substr(0,1)?"left":"right",b[S]=-G[S]),h=0,r=w.length;r>h;h++)if(d=this.data[h],J[h]=[],d.rowalign&&(T[h]=d.rowalign),d.columnalign)for(J[h]=v(d.columnalign);J[h].length<=M;)J[h].push(J[h][J[h].length-1]);if(l.equalrows){var C=Math.max.apply(Math,p),O=Math.max.apply(Math,V);for(h=0,r=w.length;r>h;h++)o=(C+O-(p[h]+V[h]))/2,p[h]+=o,V[h]+=o}for(c=p[0]+V[w.length-1],h=0,r=w.length-1;r>h;h++)c+=Math.max(0,V[h]+p[h+1]+E[h]);var R,F=0,q=0,X=c;if("none"!==l.frame||(l.columnlines+l.rowlines).match(/solid|dashed/)){var $=v(l.framespacing);2!=$.length&&($=v(this.defaults.framespacing)),F=e.length2em($[0],u),q=e.length2em($[1],u),X=c+2*q}var z,B,j="";if("string"!=typeof l.align&&(l.align=String(l.align)),l.align.match(/(top|bottom|center|baseline|axis)( +(-?\d+))?/)?(j=RegExp.$3,l.align=RegExp.$1):l.align=this.defaults.align,""!==j)for(j=parseInt(j),0>j&&(j=w.length+1+j),1>j?j=1:j>w.length&&(j=w.length),z=0,B=-(c+q)+p[0],h=0,r=j-1;r>h;h++){var P=Math.max(0,V[h]+p[h+1]+E[h]);z+=P,B+=P}else z={top:-(p[0]+q),bottom:c+q-p[0],center:c/2-p[0],baseline:c/2-p[0],axis:c/2+e.TeX.axis_height*i-p[0]}[l.align],B={top:-(c+2*q),bottom:0,center:-(c/2+q),baseline:-(c/2+q),axis:e.TeX.axis_height*i-c/2-q}[l.align];var U,_=0,k=0,K=0,Q=0,W=0,Y=[],Z=[],te=1;if(l.equalcolumns&&"auto"!==l.width){for(U=e.length2em(l.width,u),h=0,r=Math.min(M+1,b.length);r>h;h++)U-=b[h];for(U/=M+1,h=0,r=Math.min(M+1,L.length);r>h;h++)G[h]=U}else{for(h=0,r=Math.min(M+1,L.length);r>h;h++)"auto"===L[h]?k+=G[h]:"fit"===L[h]?(Z[W]=h,W++,k+=G[h]):L[h].match(/%$/)?(Y[Q]=h,Q++,K+=G[h],_+=e.length2em(L[h],u,1)):(G[h]=e.length2em(L[h],u),k+=G[h]);if("auto"===l.width)_>.98?(te=K/(k+K),U=k+K):U=k/(1-_);else for(U=e.length2em(l.width,u),h=0,r=Math.min(M+1,b.length);r>h;h++)U-=b[h];for(h=0,r=Y.length;r>h;h++)G[Y[h]]=e.length2em(L[Y[h]],u,U*te),k+=G[Y[h]];if(Math.abs(U-k)>.01)if(W&&U>k)for(U=(U-k)/W,h=0,r=Z.length;r>h;h++)G[Z[h]]+=U;else for(U/=k,s=0;M>=s;s++)G[s]*=U;if(l.equalcolumns){var ee=Math.max.apply(Math,G);for(s=0;M>=s;s++)G[s]=ee}}var ae,ne,ie=z;for(o=x[S]?S:0,s=o;M>=s;s++){for(x[s].w=G[s],h=0,r=w.length;r>h;h++){if(w[h][s]){if(o="mlabeledtr"===this.data[h].type?S:0,m=this.data[h].data[s-o],m.SVGcanStretch("Horizontal"))w[h][s]=m.SVGstretchH(G[s]);else if(m.SVGcanStretch("Vertical")){f=m.CoreMO();var le=f.symmetric;f.symmetric=!1,w[h][s]=m.SVGstretchV(p[h],V[h]),f.symmetric=le}ne=m.rowalign||this.data[h].rowalign||T[h],ae={top:p[h]-w[h][s].h,bottom:w[h][s].d-V[h],center:(p[h]-V[h]-(w[h][s].h-w[h][s].d))/2,baseline:0,axis:0}[ne]||0,ne=m.columnalign||J[h][s]||H[s],x[s].Align(w[h][s],ne,0,ie+ae)}h<w.length-1&&(ie-=Math.max(0,V[h]+p[h+1]+E[h]))}ie=z}var he=1.5*e.em,se=F-he/2;for(s=0;M>=s;s++)n.Add(x[s],se,0),se+=G[s]+b[s],"none"!==y[s]&&M>s&&s!==S&&n.Add(a.VLINE(X,he,y[s]),se-b[s]/2,B);for(n.w+=F,n.d=-B,n.h=X+B,R=n.w,"none"!==l.frame&&(n.Add(a.HLINE(R,he,l.frame),0,B+X-he),n.Add(a.HLINE(R,he,l.frame),0,B),n.Add(a.VLINE(X,he,l.frame),0,B),n.Add(a.VLINE(X,he,l.frame),R-he,B)),ie=z-he/2,h=0,r=w.length-1;r>h;h++)ae=Math.max(0,V[h]+p[h+1]+E[h]),"none"!==D[h]&&n.Add(a.HLINE(R,he,D[h]),0,ie-V[h]-(ae-V[h]-p[h+1])/2),ie-=ae;if(n.Clean(),this.SVGhandleSpace(n),this.SVGhandleColor(n),x[S]){var re=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");re.indentalignfirst!==t.INDENTALIGN.INDENTALIGN&&(re.indentalign=re.indentalignfirst),re.indentalign===t.INDENTALIGN.AUTO&&(re.indentalign=this.displayAlign),re.indentshiftfirst!==t.INDENTSHIFT.INDENTSHIFT&&(re.indentshift=re.indentshiftfirst),"auto"===re.indentshift&&(re.indentshift=this.displayIndent);var ge=re.indentshift?e.length2em(re.indentshift,u):0,oe=e.length2em(l.minlabelspacing,u),de=n;n=this.SVG(),re.indentalign===t.INDENTALIGN.CENTER?(n.w=n.r=e.length2em(e.cwidth+"px"),ge=0,n.hasIndent=!0):H[S]!==re.indentalign?(n.w=n.r=e.length2em(e.cwidth+"px")-ge-oe,ge=oe=0):(n.w=n.r=de.w+ge,n.hasIndent=!0),n.Align(de,re.indentalign,ge,0),n.Align(x[S],H[S],oe,0)}return this.SVGsaveData(n),n},SVGhandleSpace:function(t){this.hasFrame||t.width||(t.x=t.X=167),this.SUPER(arguments).SVGhandleSpace.call(this,t)}}),t.mtd.Augment({toSVG:function(t,e){var a=this.svg=this.SVG();return this.data[0]&&(a.Add(this.SVGdataStretched(0,t,e)),a.Clean()),this.SVGhandleColor(a),this.SVGsaveData(a),a}}),MathJax.Hub.Startup.signal.Post("SVG mtable Ready"),MathJax.Ajax.loadComplete(e.autoloadDir+"/mtable.js")});